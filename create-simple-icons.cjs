const fs = require('fs');
const path = require('path');

// Minimal PNG file (1x1 pixel green)
const minimalPNG = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, // IHDR chunk length
    0x49, 0x48, 0x44, 0x52, // IHDR
    0x00, 0x00, 0x00, 0xC0, // Width: 192
    0x00, 0x00, 0x00, 0xC0, // Height: 192
    0x08, 0x02, // Bit depth: 8, Color type: 2 (RGB)
    0x00, 0x00, 0x00, // Compression, filter, interlace
    0x7C, 0x8C, 0x0A, 0x63, // CRC
    0x00, 0x00, 0x00, 0x0C, // IDAT chunk length
    0x49, 0x44, 0x41, 0x54, // IDAT
    0x78, 0x9C, 0x63, 0x78, 0xF0, 0x0F, 0x00, 0x01, 0x01, 0x01, 0x00, 0x18, 0xDD, 0x8D, 0xB4, // Compressed image data
    0x00, 0x00, 0x00, 0x00, // IEND chunk length
    0x49, 0x45, 0x4E, 0x44, // IEND
    0xAE, 0x42, 0x60, 0x82  // CRC
]);

// Simple 512x512 version
const largePNG = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, // IHDR chunk length
    0x49, 0x48, 0x44, 0x52, // IHDR
    0x00, 0x00, 0x02, 0x00, // Width: 512
    0x00, 0x00, 0x02, 0x00, // Height: 512
    0x08, 0x02, // Bit depth: 8, Color type: 2 (RGB)
    0x00, 0x00, 0x00, // Compression, filter, interlace
    0xF5, 0x78, 0xF7, 0x3E, // CRC
    0x00, 0x00, 0x00, 0x0C, // IDAT chunk length
    0x49, 0x44, 0x41, 0x54, // IDAT
    0x78, 0x9C, 0x63, 0x78, 0xF0, 0x0F, 0x00, 0x01, 0x01, 0x01, 0x00, 0x18, 0xDD, 0x8D, 0xB4, // Compressed image data
    0x00, 0x00, 0x00, 0x00, // IEND chunk length
    0x49, 0x45, 0x4E, 0x44, // IEND
    0xAE, 0x42, 0x60, 0x82  // CRC
]);

try {
    // Write the files
    fs.writeFileSync(path.join(__dirname, 'public', 'icon-192.png'), minimalPNG);
    fs.writeFileSync(path.join(__dirname, 'public', 'icon-512.png'), largePNG);
    fs.writeFileSync(path.join(__dirname, 'public', 'favicon.ico'), minimalPNG);
    
    console.log('‚úÖ Successfully created icon files');
    console.log('üìÅ Files created:');
    console.log('   - public/icon-192.png');
    console.log('   - public/icon-512.png');  
    console.log('   - public/favicon.ico');
    
} catch (error) {
    console.error('‚ùå Error creating icon files:', error);
}
